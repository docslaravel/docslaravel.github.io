<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>Migrations &amp; Seeding - Laravel document offline</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="author" content="Taylor Otwell">
	<meta name="description" content="Laravel document offline">
	<meta name="keywords" content="laravel, php, framework, document, offline">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--[if lte IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link rel="stylesheet" href="../assets/css/laravel.css">
</head>
<body class="docs language-php scotchified">

<div class="responsive-sidebar-nav" id="responsive-sidebar-nav-1"> 
	<a href="#" class="toggle-slide menu-link btn">
		<span class="sr-only">Menu</span>
	</a>
</div>

<div class="scotch-panel-wrapper" id="scotch_panel_wrapper">
	<div class="scotch-panel-canvas" id="scotch_panel_canvas">

		<span class="overlay"></span>

		<nav class="main">
			<div class="container">
				<a href="/" class="brand">
					<img src="../assets/img/laravel-logo.png" height="30">
					Laravel docs
				</a>

				<div class="responsive-sidebar-nav">
					<a href="#" class="toggle-slide menu-link btn">
						<span class="sr-only">Open</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
				</div>

				<div class="switcher">
					<div class="dropdown">
						<button class="btn dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">5.0
							<span class="caret"></span>
						</button>
					</div>
				</div>
			</div>
		</nav>

		<nav id="slide-menu" class="slide-menu scotch-panel-left" role="navigation">
		
			<div class="brand">
				<a href="/">
					<img src="../assets/img/laravel-logo-white.png" height="50">
				</a>
			</div>

			<div class="slide-docs-nav">
				<h2>Documentation</h2>
				<ul>
					<li>Prologue
						<ul>
							<li><a href="../releases/">Release Notes</a></li>
							<li><a href="../upgrade/">Upgrade Guide</a></li>
							<li><a href="../contributions/">Contribution Guide</a></li>
						</ul>
					</li>
					<li>Setup
						<ul>
							<li><a href="../installation/">Installation</a></li>
							<li><a href="../configuration/">Configuration</a></li>
							<li><a href="../homestead/">Homestead</a></li>
						</ul>
					</li>
					<li>The Basics
						<ul>
							<li><a href="../routing/">Routing</a></li>
							<li><a href="../middleware/">Middleware</a></li>
							<li><a href="../controllers/">Controllers</a></li>
							<li><a href="../requests/">Requests</a></li>
							<li><a href="../responses/">Responses</a></li>
							<li><a href="../views/">Views</a></li>
						</ul>
					</li>
					<li>Architecture Foundations
						<ul>
							<li><a href="../providers/">Service Providers</a></li>
							<li><a href="../container/">Service Container</a></li>
							<li><a href="../contracts/">Contracts</a></li>
							<li><a href="../facades/">Facades</a></li>
							<li><a href="../lifecycle/">Request Lifecycle</a></li>
							<li><a href="../structure/">Application Structure</a></li>
						</ul>
					</li>
					<li>Services
						<ul>
							<li><a href="../authentication/">Authentication</a></li>
							<li><a href="../billing/">Billing</a></li>
							<li><a href="../cache/">Cache</a></li>
							<li><a href="../collections/">Collections</a></li>
							<li><a href="../bus/">Command Bus</a></li>
							<li><a href="../extending/">Core Extension</a></li>
							<li><a href="../elixir/">Elixir</a></li>
							<li><a href="../encryption/">Encryption</a></li>
							<li><a href="../envoy/">Envoy</a></li>
							<li><a href="../errors/">Errors &amp; Logging</a></li>
							<li><a href="../events/">Events</a></li>
							<li><a href="../filesystem/">Filesystem / Cloud Storage</a></li>
							<li><a href="../hashing/">Hashing</a></li>
							<li><a href="../helpers/">Helpers</a></li>
							<li><a href="../localization/">Localization</a></li>
							<li><a href="../mail/">Mail</a></li>
							<li><a href="../packages/">Package Development</a></li>
							<li><a href="../pagination/">Pagination</a></li>
							<li><a href="../queues/">Queues</a></li>
							<li><a href="../session/">Session</a></li>
							<li><a href="../templates/">Templates</a></li>
							<li><a href="../testing/">Unit Testing</a></li>
							<li><a href="../validation/">Validation</a></li>
						</ul>
					</li>
					<li>Database
						<ul>
							<li><a href="../database/">Basic Usage</a></li>
							<li><a href="../queries/">Query Builder</a></li>
							<li><a href="../eloquent/">Eloquent ORM</a></li>
							<li><a href="../schema/">Schema Builder</a></li>
							<li><a href="../migrations/">Migrations &amp; Seeding</a></li>
							<li><a href="../redis/">Redis</a></li>
						</ul>
					</li>
					<li>Artisan CLI
						<ul>
							<li><a href="../artisan/">Overview</a></li>
							<li><a href="../commands/">Development</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</nav>

		<div class="docs-wrapper container">

			<section class="sidebar">
				<ul>
					<li>Prologue
						<ul>
							<li><a href="../releases/">Release Notes</a></li>
							<li><a href="../upgrade/">Upgrade Guide</a></li>
							<li><a href="../contributions/">Contribution Guide</a></li>
						</ul>
					</li>
					<li>Setup
						<ul>
							<li><a href="../installation/">Installation</a></li>
							<li><a href="../configuration/">Configuration</a></li>
							<li><a href="../homestead/">Homestead</a></li>
						</ul>
					</li>
					<li>The Basics
						<ul>
							<li><a href="../routing/">Routing</a></li>
							<li><a href="../middleware/">Middleware</a></li>
							<li><a href="../controllers/">Controllers</a></li>
							<li><a href="../requests/">Requests</a></li>
							<li><a href="../responses/">Responses</a></li>
							<li><a href="../views/">Views</a></li>
						</ul>
					</li>
					<li>Architecture Foundations
						<ul>
							<li><a href="../providers/">Service Providers</a></li>
							<li><a href="../container/">Service Container</a></li>
							<li><a href="../contracts/">Contracts</a></li>
							<li><a href="../facades/">Facades</a></li>
							<li><a href="../lifecycle/">Request Lifecycle</a></li>
							<li><a href="../structure/">Application Structure</a></li>
						</ul>
					</li>
					<li>Services
						<ul>
							<li><a href="../authentication/">Authentication</a></li>
							<li><a href="../billing/">Billing</a></li>
							<li><a href="../cache/">Cache</a></li>
							<li><a href="../collections/">Collections</a></li>
							<li><a href="../bus/">Command Bus</a></li>
							<li><a href="../extending/">Core Extension</a></li>
							<li><a href="../elixir/">Elixir</a></li>
							<li><a href="../encryption/">Encryption</a></li>
							<li><a href="../envoy/">Envoy</a></li>
							<li><a href="../errors/">Errors &amp; Logging</a></li>
							<li><a href="../events/">Events</a></li>
							<li><a href="../filesystem/">Filesystem / Cloud Storage</a></li>
							<li><a href="../hashing/">Hashing</a></li>
							<li><a href="../helpers/">Helpers</a></li>
							<li><a href="../localization/">Localization</a></li>
							<li><a href="../mail/">Mail</a></li>
							<li><a href="../packages/">Package Development</a></li>
							<li><a href="../pagination/">Pagination</a></li>
							<li><a href="../queues/">Queues</a></li>
							<li><a href="../session/">Session</a></li>
							<li><a href="../templates/">Templates</a></li>
							<li><a href="../testing/">Unit Testing</a></li>
							<li><a href="../validation/">Validation</a></li>
						</ul>
					</li>
					<li>Database
						<ul>
							<li><a href="../database/">Basic Usage</a></li>
							<li><a href="../queries/">Query Builder</a></li>
							<li><a href="../eloquent/">Eloquent ORM</a></li>
							<li><a href="../schema/">Schema Builder</a></li>
							<li><a href="../migrations/">Migrations &amp; Seeding</a></li>
							<li><a href="../redis/">Redis</a></li>
						</ul>
					</li>
					<li>Artisan CLI
						<ul>
							<li><a href="../artisan/">Overview</a></li>
							<li><a href="../commands/">Development</a></li>
						</ul>
					</li>
				</ul>
			</section>

			<article>
				
<h1>Migrations &amp; Seeding</h1>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#creating-migrations">Creating Migrations</a></li>
<li><a href="#running-migrations">Running Migrations</a></li>
<li><a href="#rolling-back-migrations">Rolling Back Migrations</a></li>
<li><a href="#database-seeding">Database Seeding</a></li>
</ul>
<p><a name="introduction"></a></p>
<h2><a href="#introduction">Introduction</a></h2>
<p>Migrations are a type of version control for your database. They allow a team to modify the database schema and stay up to date on the current schema state. Migrations are typically paired with the <a href="http://laravel.com/docs/5.0/schema">Schema Builder</a> to easily manage your application's schema.</p>
<p><a name="creating-migrations"></a></p>
<h2><a href="#creating-migrations">Creating Migrations</a></h2>
<p>To create a migration, you may use the <code class=" language-php">make<span class="token punctuation">:</span>migration</code> command on the Artisan CLI:</p>
<pre class=" language-php"><code class=" language-php">php artisan make<span class="token punctuation">:</span>migration create_users_table</code></pre>
<p>The migration will be placed in your <code class=" language-php">database<span class="token operator">/</span>migrations</code> folder, and will contain a timestamp which allows the framework to determine the order of the migrations.</p>
<p>The <code class=" language-php"><span class="token operator">--</span>table</code> and <code class=" language-php"><span class="token operator">--</span>create</code> options may also be used to indicate the name of the table, and whether the migration will be creating a new table:</p>
<pre class=" language-php"><code class=" language-php">php artisan make<span class="token punctuation">:</span>migration add_votes_to_users_table <span class="token operator">--</span>table<span class="token operator">=</span>users

php artisan make<span class="token punctuation">:</span>migration create_users_table <span class="token operator">--</span>create<span class="token operator">=</span>users</code></pre>
<p><a name="running-migrations"></a></p>
<h2><a href="#running-migrations">Running Migrations</a></h2>
<h4>Running All Outstanding Migrations</h4>
<pre class=" language-php"><code class=" language-php">php artisan migrate</code></pre>
<blockquote>
<p><strong>Note:</strong> If you receive a "class not found" error when running migrations, try running the <code class=" language-php">composer dump<span class="token operator">-</span>autoload</code> command.</p>
</blockquote>
<h3>Forcing Migrations In Production</h3>
<p>Some migration operations are destructive, meaning they may cause you to lose data. In order to protect you from running these commands against your production database, you will be prompted for confirmation before these commands are executed. To force the commands to run without a prompt, use the <code class=" language-php"><span class="token operator">--</span>force</code> flag:</p>
<pre class=" language-php"><code class=" language-php">php artisan migrate <span class="token operator">--</span>force</code></pre>
<p><a name="rolling-back-migrations"></a></p>
<h2><a href="#rolling-back-migrations">Rolling Back Migrations</a></h2>
<h4>Rollback The Last Migration Operation</h4>
<pre class=" language-php"><code class=" language-php">php artisan migrate<span class="token punctuation">:</span>rollback</code></pre>
<h4>Rollback all migrations</h4>
<pre class=" language-php"><code class=" language-php">php artisan migrate<span class="token punctuation">:</span>reset</code></pre>
<h4>Rollback all migrations and run them all again</h4>
<pre class=" language-php"><code class=" language-php">php artisan migrate<span class="token punctuation">:</span>refresh

php artisan migrate<span class="token punctuation">:</span>refresh <span class="token operator">--</span>seed</code></pre>
<p><a name="database-seeding"></a></p>
<h2><a href="#database-seeding">Database Seeding</a></h2>
<p>Laravel also includes a simple way to seed your database with test data using seed classes. All seed classes are stored in <code class=" language-php">database<span class="token operator">/</span>seeds</code>. Seed classes may have any name you wish, but probably should follow some sensible convention, such as <code class=" language-php">UserTableSeeder</code>, etc. By default, a <code class=" language-php">DatabaseSeeder</code> class is defined for you. From this class, you may use the <code class=" language-php">call</code> method to run other seed classes, allowing you to control the seeding order.</p>
<h4>Example Database Seed Class</h4>
<pre class=" language-php"><code class=" language-php"><span class="token keyword">class</span> <span class="token class-name">DatabaseSeeder</span> <span class="token keyword">extends</span> <span class="token class-name">Seeder</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">run<span class="token punctuation">(</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">call<span class="token punctuation">(</span></span><span class="token string">'UserTableSeeder'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token this">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">command</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">info<span class="token punctuation">(</span></span><span class="token string">'User table seeded!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">UserTableSeeder</span> <span class="token keyword">extends</span> <span class="token class-name">Seeder</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">run<span class="token punctuation">(</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token scope">DB<span class="token punctuation">::</span></span><span class="token function">table<span class="token punctuation">(</span></span><span class="token string">'users'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">delete<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token scope">User<span class="token punctuation">::</span></span><span class="token function">create<span class="token punctuation">(</span></span><span class="token punctuation">[</span><span class="token string">'email'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">'foo@bar.com'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<p>To seed your database, you may use the <code class=" language-php">db<span class="token punctuation">:</span>seed</code> command on the Artisan CLI:</p>
<pre class=" language-php"><code class=" language-php">php artisan db<span class="token punctuation">:</span>seed</code></pre>
<p>By default, the <code class=" language-php">db<span class="token punctuation">:</span>seed</code> command runs the <code class=" language-php">DatabaseSeeder</code> class, which may be used to call other seed classes. However, you may use the <code class=" language-php"><span class="token operator">--</span><span class="token keyword">class</span></code> option to specify a specific seeder class to run individually:</p>
<pre class=" language-php"><code class=" language-php">php artisan db<span class="token punctuation">:</span>seed <span class="token operator">--</span><span class="token keyword">class</span><span class="token operator">=</span>UserTableSeeder</code></pre>
<p>You may also seed your database using the <code class=" language-php">migrate<span class="token punctuation">:</span>refresh</code> command, which will also rollback and re-run all of your migrations:</p>
<pre class=" language-php"><code class=" language-php">php artisan migrate<span class="token punctuation">:</span>refresh <span class="token operator">--</span>seed</code></pre>

			</article>
		</div>

		<footer class="main">
			
			<p>Laravel is a trademark of Taylor Otwell. Copyright © Taylor Otwell.</p>
			<p class="less-significant"><a href="http://jackmcdade.com/">Design by Jack McDade</a></p>
			<p>Edit by ngnam</p>
		</footer>

		<script src="../assets/js/laravel.js"></script>
		<script src="../assets/js/viewport-units-buggyfill.js"></script>
		<script src="../assets/js/affix.js"></script>
		<script>window.viewportUnitsBuggyfill.init();</script>
		<script src="../assets/js/sidebar-scroll.js"></script>
	   	<p style="transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); margin: 0px;"></p>

	</div>
</div>

<div class="scroll_top"></div>
</body></html>